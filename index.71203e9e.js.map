{"mappings":"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","sources":["src/JS/localStorage.js","src/JS/index-markups.js","src/JS/pagination-markups.js","src/JS/const/api-key.js","src/JS/modal-film.js","src/JS/main.js","src/JS/pagination.js","src/JS/themeRender.js","src/JS/slider.js","src/JS/modal.js","src/index.js"],"sourcesContent":["function getFromLocalStorage(key) {\n  const savedMovies = localStorage.getItem(key);\n  return JSON.parse(savedMovies);\n}\n\nexport { getFromLocalStorage };\n","import { getFromLocalStorage } from './localStorage';\nexport { markupMovies };\n\nfunction markupMovies(films) {\n  const parseGenres = getFromLocalStorage('genres');\n  const markup = films.results\n    .map(\n      ({\n        title,\n        id,\n        poster_path,\n        genre_ids,\n        release_date,\n        first_air_date,\n        year = release_date || first_air_date || ' - ',\n      }) => {\n        const genreName = genre_ids.map(element =>\n          parseGenres.genres.find(genre => genre.id === element)\n        );\n        let genreOutput;\n        if (genre_ids.length > 3) {\n          genreOutput = genreName.map(element => element.name).slice(0, 2);\n          genreOutput.push('Other');\n        } else {\n          genreOutput = genreName.map(element => element.name);\n        }\n        return `<li class=\"gallery__item\">\n            <a class=\"gallery__link\"  href=\"\">\n                <img class=\"gallery__image\" data-id=${id} src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"\" loading=\"lazy\">\n            </a>\n            <div class=\"gallery__info\">\n                <p class=\"gallery__title cut-text\">${title}</p>\n\n                <p class=\"gallery__genre\">${genreOutput.join(', ')}</p>     \n                <p class=\"gallery__year\">${year.slice(0, 4)}</p>\n\n            </div>\n        </li>`;\n      }\n    )\n    .join('');\n  return markup;\n}\n","export { paginationMarkup, paginationMarkupMobile };\n\nfunction paginationMarkup(currentPage, pageCount) {\n  if (pageCount <= 1) return [1];\n  const center = [\n    currentPage - 2,\n    currentPage - 1,\n    currentPage,\n    currentPage + 1,\n    currentPage + 2,\n  ];\n\n  const filteredCenter = center.filter(p => p > 1 && p < pageCount);\n  const includeThreeLeft = currentPage === 5;\n  const includeThreeRight = currentPage === pageCount - 4;\n  const includeLeftDots = currentPage > 5;\n  const includeRightDots = currentPage < pageCount - 4;\n\n  if (includeThreeLeft) filteredCenter.unshift(2);\n  if (includeThreeRight) filteredCenter.push(pageCount - 1);\n\n  if (includeLeftDots) filteredCenter.unshift('...');\n  if (includeRightDots) filteredCenter.push('...');\n\n  return [1, ...filteredCenter, pageCount];\n}\n\nfunction paginationMarkupMobile(currentPage, pageCount) {\n  if (pageCount <= 1) return [1];\n  const center = [\n    currentPage - 2,\n    currentPage - 1,\n    currentPage,\n    currentPage + 1,\n    currentPage + 2,\n  ];\n\n  const filteredCenter = center.filter(p => p >= 1 && p <= pageCount);\n  const includeTwoRight = currentPage === 1;\n  const includeOneRight = currentPage === 2;\n\n  if (includeTwoRight) filteredCenter.push(currentPage + 3, currentPage + 4);\n  if (includeOneRight) filteredCenter.push(currentPage + 3);\n\n  return [...filteredCenter];\n}\n","export const API_KEY = '861782ee1fc6aacf939bc06e51306075';\n","const film = localStorage.getItem('films');\nconst parsedFilms = JSON.parse(film);\nconst savedGenres = localStorage.getItem('genres');\nconst parseGenres = JSON.parse(savedGenres);\n\nlet arrayOfWatchedFilms = [];\nlet filteredArrayOfWatchedFilms = [];\nlet arrayOfQueuedFilms = [];\nlet filteredArrayOfQueuedFilms = [];\n\nconst modalElementsRefs = {\n  filmImage: document.querySelector('.film-image'),\n  votes: document.querySelector('.film-votes'),\n  title: document.querySelector('.film-title'),\n  popularity: document.querySelector('.film-popularity'),\n  genre: document.querySelector('.genre'),\n  about: document.querySelector('.film-about'),\n  originalTitle: document.querySelector('.film-original-title'),\n};\nconst { filmImage, votes, title, popularity, originalTitle, genre, about } =\n  modalElementsRefs;\n\nexport default function onModalEvents(evt) {\n  evt.preventDefault();\n\n  const films = parsedFilms.find(element => {\n    const genreName = element.genre_ids\n      .map(element => parseGenres.genres.find(genre => genre.id === element))\n      .map(element => element.name)\n      .join(', ');\n\n    if (Number(evt.target.dataset.id) === element.id) {\n      votes.textContent = `${element.vote_average.toFixed(2)}/${\n        element.vote_count\n      }`;\n      filmImage.setAttribute(\n        'src',\n        `https://image.tmdb.org/t/p/w500${element.poster_path}`\n      );\n\n      title.textContent = `${element.title}`;\n      popularity.textContent = `${element.popularity.toFixed(2)}`;\n      originalTitle.textContent = `${element.original_title}`;\n      about.textContent = `${element.overview}`;\n      genre.textContent = `${genreName}`;\n\n      const closeModalBtn = document.querySelector('[data-modal=\"close\"]');\n      const backdrop = document.querySelector('.backdrop');\n      backdrop.classList.add('active');\n\n      closeModalBtn.addEventListener('click', e =>\n        backdrop.classList.remove('active')\n      );\n    }\n\n    const addToWatch = document.querySelector('.watched-films-btn');\n\n    addToWatch.addEventListener('click', e => {\n      if (Number(evt.target.dataset.id) === element.id) {\n        arrayOfWatchedFilms.push(element),\n          (filteredArrayOfWatchedFilms = new Set(arrayOfWatchedFilms)),\n          localStorage.setItem(\n            'watchedFilms',\n            JSON.stringify([...filteredArrayOfWatchedFilms])\n          );\n      }\n    });\n    const addToQueue = document.querySelector('.queued-films-btn');\n    addToQueue.addEventListener('click', e => {\n      if (Number(evt.target.dataset.id) === element.id) {\n        arrayOfQueuedFilms.push(element),\n          (filteredArrayOfQueuedFilms = new Set(arrayOfQueuedFilms)),\n          localStorage.setItem(\n            'queuedFilms',\n            JSON.stringify([...filteredArrayOfQueuedFilms])\n          );\n      }\n    });\n  });\n}\n","import { API_KEY } from './const/api-key';\nimport onModalEvents from './modal-film';\nimport { currentPage } from './pagination';\n\nimport { searchData } from '../index';\n\nconst galleryRef = document.querySelector('.gallery');\n\nfunction fetchGenres() {\n  return Promise.resolve(\n    fetch(\n      `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=en-US`\n    )\n      .then(res => res.json())\n      .then(genres => {\n        localStorage.setItem('genres', JSON.stringify(genres));\n        return genres;\n      })\n  );\n}\n\nexport { fetchGenres };\n\n// Фетч популярных фильмов\nconst fetchPopFilms = async page => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}&language=en-US&page=${page}`\n  );\n\n  const films = await response.json();\n  const parsedFilms = JSON.stringify(films.results);\n  localStorage.setItem('films', parsedFilms);\n  return films;\n};\nexport { fetchPopFilms };\n\n// фетч по ключевому слову\nconst fetchQueryFilm = async page => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${searchData}&page=${page}&include_adult=false`\n  );\n  const films = await response.json();\n  return films;\n};\nexport { fetchQueryFilm };\n\n// Рендер карточек\n\nfunction renderFilms(films) {\n  const markup = films.results.map(\n    ({\n      title,\n      id,\n      poster_path,\n      genre_ids,\n      release_date,\n      first_air_date,\n      year = release_date || first_air_date || ' - ',\n    }) => {\n      const savedGenres = localStorage.getItem('genres');\n      const parseGenres = JSON.parse(savedGenres);\n      const genreName = genre_ids\n        .map(element => parseGenres.genres.find(genre => genre.id === element))\n        .map(element => element.name)\n        .join(',');\n\n      return `<li class=\"gallery__item\">\n            <a href = ''>\n                <img class=\"gallery__image\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" data-id=${id} alt=\"\" loading=\"lazy\">\n                 <div class=\"gallery__info\">\n            </a>\n                <p class=\"gallery__title\">${title}</p>\n                <p class=\"gallery__genre\">${genreName}</p>     \n                <p class=\"gallery__year\">${year.slice(0, 4)}</p>\n            </div>\n          </li>`;\n    }\n  );\n\n  galleryRef.innerHTML = markup;\n  return films;\n}\n\nexport { renderFilms };\n\n//Парсінг жанрів\ngalleryRef.addEventListener('click', onModalEvents);\n\n//Спіннер\nconst preloader = document.querySelector('#preloader');\n\npreloader.classList.add('show-preloader');\n\nwindow.addEventListener('load', function () {\n  setTimeout(function () {\n    preloader.classList.remove('show-preloader');\n  }, 1000);\n});\n\n//Скролл\n\nconst btnUp = {\n  el: document.querySelector('.btn-up'),\n  show() {\n    // удалим у кнопки класс btn-up_hide\n    this.el.classList.remove('btn-up_hide');\n  },\n  hide() {\n    // добавим к кнопке класс btn-up_hide\n    this.el.classList.add('btn-up_hide');\n  },\n  addEventListener() {\n    // при прокрутке содержимого страницы\n    window.addEventListener('scroll', () => {\n      // определяем величину прокрутки\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      // если страница прокручена больше чем на 400px, то делаем кнопку видимой, иначе скрываем\n      scrollY > 400 ? this.show() : this.hide();\n    });\n    // при нажатии на кнопку .btn-up\n    document.querySelector('.btn-up').onclick = () => {\n      // переместим в начало страницы\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    };\n  },\n};\n\nbtnUp.addEventListener();\n","import { markupMovies } from './index-markups';\n\nimport { paginationMarkup, paginationMarkupMobile } from './pagination-markups';\n\nimport { fetchPopFilms, fetchQueryFilm } from './main';\n\n\nexport { pagination };\nexport { currentPage };\n\nconst galleryRef = document.querySelector('.gallery');\nconst paginationNav = document.querySelector('.pagination__wrapper');\nconst paginationWrapper = document.querySelector('.pagination__pages');\nconst nextButton = document.querySelector('#next-button');\nconst prevButton = document.querySelector('#prev-button');\n\nlet currentPage;\nlet pageCount;\nconst paginationLimit = 20;\nlet movies;\n\n//Render and pagination\nfunction pagination(films) {\n  movies = films;\n\n  if (!movies.results.length) {\n    paginationNav.classList.add('hidden');\n    return;\n  }\n\n  // paginationNav.classList.remove('hidden');\n  pageCount = Math.ceil(movies.total_results / paginationLimit);\n  renderPage(films);\n\n  prevButton.addEventListener('click', () => {\n    fetchPopFilms(currentPage - 1).then(renderPage);\n  });\n\n  nextButton.addEventListener('click', () => {\n    fetchPopFilms(currentPage + 1).then(renderPage);\n  });\n\n  paginationWrapper.addEventListener('click', e => {\n    if (e.target.hasAttribute('page-index')) {\n      fetchPopFilms(Number(e.target.getAttribute('page-index'))).then(\n        renderPage\n      );\n    }\n  });\n}\n\nfunction renderPage(films) {\n  currentPage = films.page;\n  const currentMovies = films.results;\n  clearContainer(galleryRef);\n  insertListItems(markupMovies(films));\n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n\n  const width = document.documentElement.clientWidth;\n  width >= 768\n    ? getPaginationNumbers(paginationMarkup(currentPage, pageCount))\n    : getPaginationNumbers(paginationMarkupMobile(currentPage, pageCount));\n  handleActivePageNumber();\n  handlePageButtonsStatus();\n}\n\nfunction getPaginationNumbers(items) {\n  clearContainer(paginationWrapper);\n\n  const pages = items.map(item => {\n    if (typeof item === 'number') {\n      const pageNumber = document.createElement('button');\n      pageNumber.className = 'pagination__number';\n      pageNumber.innerHTML = item;\n      pageNumber.setAttribute('page-index', item);\n      pageNumber.setAttribute('aria-label', 'Page ' + item);\n      return pageNumber;\n    }\n\n    if (typeof item === 'string') {\n      const dots = document.createElement('span');\n      dots.innerHTML = item;\n      return dots;\n    }\n  });\n  paginationWrapper.append(...pages);\n}\n\nfunction insertListItems(items) {\n  galleryRef.insertAdjacentHTML('beforeend', items);\n}\n\nfunction clearContainer(container) {\n  container.innerHTML = '';\n}\n\n// Handle pagination buttons\n\nfunction handleActivePageNumber() {\n  document.querySelectorAll('.pagination__number').forEach(button => {\n    button.classList.remove('activePage');\n\n    const pageIndex = Number(button.getAttribute('page-index'));\n\n    if (pageIndex === currentPage) {\n      button.classList.add('activePage');\n    }\n  });\n}\n\nfunction disableButton(button) {\n  button.classList.add('hidden');\n}\n\nfunction enableButton(button) {\n  button.classList.remove('hidden');\n}\n\nfunction handlePageButtonsStatus() {\n  if (currentPage === 1) {\n    disableButton(prevButton);\n  } else {\n    enableButton(prevButton);\n  }\n\n  if (pageCount === currentPage) {\n    disableButton(nextButton);\n  } else {\n    enableButton(nextButton);\n  }\n}\n\n\nfunction paginationforQuery(films) {\n  movies = films;\n\n  if (!movies.results.length) {\n    paginationNav.classList.add('hidden');\n    return;\n  }\n\n  // paginationNav.classList.remove('hidden');\n  pageCount = Math.ceil(movies.total_results / paginationLimit);\n  renderPage(films);\n\n  prevButton.addEventListener('click', () => {\n    fetchQueryFilm(currentPage - 1).then(renderPage);\n  });\n\n  nextButton.addEventListener('click', () => {\n    fetchQueryFilm(currentPage + 1).then(renderPage);\n  });\n\n  paginationWrapper.addEventListener('click', e => {\n    if (e.target.hasAttribute('page-index')) {\n      fetchQueryFilm(Number(e.target.getAttribute('page-index'))).then(\n        renderPage\n      );\n    }\n  });\n}\nexport { paginationforQuery };","const themeRender = document.querySelector('#theme-day');\nconst themeRenderFooter = document.querySelector('.footer');\nconst titleRenderTheme = document.querySelector('.main');\nconst bgButtonToogl = document.querySelector('.theme-day');\n\nthemeRender.addEventListener('click', onChengeTheme);\nfunction onChengeTheme() {\n  themeRenderFooter.classList.toggle('darkTheme');\n  titleRenderTheme.classList.toggle('darkTheme');\n  // titleRenderText.classList.toggle('darkTheme');\n  bgButtonToogl.classList.toggle('dark');\n}\n","export const slider = root => {\n  const slidesContainer = root.querySelector('#slides-container');\n  const slide = root.querySelector('.slide');\n  const prevButton = root.querySelector('#slide-arrow-prev');\n  const nextButton = root.querySelector('#slide-arrow-next');\n\n  nextButton.addEventListener('click', () => {\n    const slideWidth = slide.clientWidth;\n    slidesContainer.scrollLeft += slideWidth;\n  });\n\n  prevButton.addEventListener('click', () => {\n    const slideWidth = slide.clientWidth;\n    slidesContainer.scrollLeft -= slideWidth;\n  });\n};\n","import '../sass/components/modal.scss';\n\nconst TIMEOUT = 250;\n\nexport default class Modal {\n  constructor(component, onOpen) {\n    this.classHidden = `is-modal-hidden`;\n\n    this.onOpen = onOpen;\n    this.backdrop =\n      document.querySelector(`[data-modal-backdrop]`) || this.createModal();\n    this.modal = this.backdrop.querySelector(`[data-modal]`);\n    this.modalBody = this.modal.querySelector(`[data-modal-body]`);\n    this.modalClose = this.modal.querySelector(`[data-modal-close]`);\n    this.close();\n\n    this.show = this.show.bind(this);\n    this.close = this.close.bind(this);\n    this.processOpenedModalEvents = this.processOpenedModalEvents.bind(this);\n    this.processClosedModalEvents = this.processClosedModalEvents.bind(this);\n    this.handleDocumentKeyPressed = this.handleDocumentKeyPressed.bind(this);\n    this.handleOutsideModalClick = this.handleOutsideModalClick.bind(this);\n\n    setTimeout(() => {\n      this.modalBody.innerHTML = component.outerHTML;\n      this.show();\n    }, TIMEOUT);\n  }\n\n  createModal() {\n    const backdrop = document.createElement(`div`);\n    const modal = document.createElement(`div`);\n    const modalBody = document.createElement(`div`);\n    const modalCloseBtn = document.createElement(`button`);\n\n    backdrop.setAttribute(`data-modal-backdrop`, ``);\n    modal.setAttribute(`data-modal`, ``);\n    modalBody.setAttribute(`data-modal-body`, ``);\n    modalCloseBtn.setAttribute(`data-modal-close`, ``);\n\n    backdrop.appendChild(modal);\n    modal.appendChild(modalCloseBtn);\n    modal.appendChild(modalBody);\n\n    document.body.appendChild(backdrop);\n    return backdrop;\n  }\n\n  processOpenedModalEvents() {\n    document.addEventListener(`keydown`, this.handleDocumentKeyPressed);\n    document.addEventListener(`click`, this.handleOutsideModalClick);\n    this.modalClose.addEventListener(`click`, this.close);\n  }\n\n  processClosedModalEvents() {\n    document.removeEventListener(`keydown`, this.handleDocumentKeyPressed);\n    document.removeEventListener(`click`, this.handleOutsideModalClick);\n  }\n\n  show() {\n    const classList = this.backdrop.classList;\n    classList.remove(this.classHidden);\n\n    this.processOpenedModalEvents();\n\n    if (this.onOpen) {\n      this.onOpen(this.modal);\n    }\n  }\n\n  close() {\n    const classList = this.backdrop.classList;\n    if (!classList.contains(this.classHidden)) {\n      classList.add(this.classHidden);\n    }\n\n    this.processClosedModalEvents();\n  }\n\n  handleDocumentKeyPressed(evt) {\n    if (evt.key === `Escape`) {\n      this.close();\n    }\n  }\n\n  handleOutsideModalClick(evt) {\n    if (!this.modal.contains(evt.target)) {\n      this.close();\n    }\n  }\n}\n","import { pagination, paginationforQuery } from './JS/pagination';\nimport { fetchPopFilms, renderFilms } from './JS/main';\nimport { renderFilms } from './JS/main';\n\nimport { theme } from './JS/themeRender';\n\nimport { slider } from './JS/slider';\nimport Modal from './JS/modal';\n\nimport { fetchQueryFilm } from './JS/main';\n\nimport { fetchGenres } from './JS/main';\n\nfunction moviesRender() {\n  if (localStorage.getItem('genres')) {\n    fetchPopFilms(1).then(pagination);\n  } else {\n    fetchGenres().then(res => {\n      fetchPopFilms(1).then(res => pagination(res));\n    });\n  }\n}\n\nmoviesRender();\n\n// поиск по ключевому слову\nlet searchData;\nexport { searchData };\n\nconst formRef = document.querySelector('.header-search-form');\nformRef.addEventListener('submit', onSearch);\nfunction onSearch(e) {\n  e.preventDefault();\n  searchData = formRef.elements.searchQuery.value.trim();\n  console.log(searchData);\n  if (searchData !== '') {\n    fetchQueryFilm(1, searchData).then(paginationforQuery);\n  }\n}\n\n// SCROLL\nconst progressBar = document.querySelector('.progress-bar');\nwindow.addEventListener('scroll', moveProgressBar);\n\nfunction moveProgressBar() {\n  const windowScroll =\n    document.body.scrollTop || document.documentElement.scrollTop;\n  const windowHeight =\n    document.documentElement.scrollHeight -\n    document.documentElement.clientHeight;\n  const width_progress_line = (windowScroll / windowHeight) * 100;\n  progressBar.style.width = width_progress_line + '%';\n}\n\ndocument.querySelector('#goit-students').addEventListener('click', e => {\n  e.preventDefault();\n\n  const div = document.createElement('div');\n  const modal = document.querySelector('.modal-footer');\n  div.innerHTML = modal.outerHTML;\n  div.querySelector('.modal-footer').classList.remove('is-hidden');\n\n  new Modal(div, modalWindow => {\n    slider(modalWindow);\n  });\n});\n"],"names":["$c4af67a14e52d4c8$export$602bc7b349337fec","key","savedMovies","localStorage","getItem","JSON","parse","$927687c3e07eac1d$export$2000cb3382d6fe40","films","parseGenres","results","map","title","id","poster_path","genre_ids","release_date","first_air_date","year","genreName","element","genres","find","genre","genreOutput","length","name","slice","push","join","$75ee9f7423782d03$export$a88ca8237831132f","currentPage","pageCount","filteredCenter","filter","p","includeThreeRight","includeLeftDots","includeRightDots","unshift","$75ee9f7423782d03$export$abd042700647fb27","includeOneRight","$2a155748c63fc42c$var$film","$2a155748c63fc42c$var$parsedFilms","$2a155748c63fc42c$var$savedGenres","$2a155748c63fc42c$var$parseGenres","$2a155748c63fc42c$var$arrayOfWatchedFilms","$2a155748c63fc42c$var$filteredArrayOfWatchedFilms","$2a155748c63fc42c$var$arrayOfQueuedFilms","$2a155748c63fc42c$var$filteredArrayOfQueuedFilms","$2a155748c63fc42c$var$modalElementsRefs","filmImage","document","querySelector","votes","popularity","about","originalTitle","$2a155748c63fc42c$var$filmImage","$2a155748c63fc42c$var$votes","$2a155748c63fc42c$var$title","$2a155748c63fc42c$var$popularity","$2a155748c63fc42c$var$originalTitle","$2a155748c63fc42c$var$genre","$2a155748c63fc42c$var$about","$0e773294198e22c6$var$galleryRef","$0e773294198e22c6$export$c8824d5a35bdf721","async","page","response","fetch","json","parsedFilms","stringify","setItem","$0e773294198e22c6$export$a869a31389217de6","$1f0dc3b9307be026$export$1ff0a0ae59fd0e5c","addEventListener","evt","preventDefault","element1","genre1","Number","target","dataset","textContent","vote_average","toFixed","vote_count","setAttribute","original_title","overview","closeModalBtn","backdrop","classList","add","e","remove","Set","$0e773294198e22c6$var$preloader","window","setTimeout","el","show","this","hide","scrollY","documentElement","scrollTop","onclick","scrollTo","top","left","behavior","$196cec3603ab2175$var$galleryRef","$196cec3603ab2175$var$paginationNav","$196cec3603ab2175$var$paginationWrapper","$196cec3603ab2175$var$nextButton","$196cec3603ab2175$var$prevButton","$196cec3603ab2175$export$385972cd6b54c3e1","$196cec3603ab2175$var$pageCount","$196cec3603ab2175$var$movies","$196cec3603ab2175$export$22fa394f3ba39578","Math","ceil","total_results","$196cec3603ab2175$var$renderPage","then","hasAttribute","getAttribute","items","$196cec3603ab2175$var$clearContainer","insertAdjacentHTML","$196cec3603ab2175$var$getPaginationNumbers","clientWidth","querySelectorAll","forEach","button","$196cec3603ab2175$var$disableButton","$196cec3603ab2175$var$enableButton","$196cec3603ab2175$var$handlePageButtonsStatus","pages","item","pageNumber","createElement","className","innerHTML","dots","append","container","$196cec3603ab2175$export$34ddbe5a65b4e11","$cce2741a0b4fce8d$var$themeRender","$cce2741a0b4fce8d$var$themeRenderFooter","$cce2741a0b4fce8d$var$titleRenderTheme","$cce2741a0b4fce8d$var$bgButtonToogl","toggle","$6482d2b391685134$export$b38bf4f33e9e4c25","root","slidesContainer","slide","prevButton","slideWidth","scrollLeft","$d00351e68ae62a37$export$2e2bcd8739ae039","createModal","modal","modalBody","modalCloseBtn","appendChild","body","processOpenedModalEvents","handleDocumentKeyPressed","handleOutsideModalClick","modalClose","close","processClosedModalEvents","removeEventListener","classHidden","onOpen","contains","constructor","component","bind","outerHTML","Promise","resolve","res","res1","$1f0dc3b9307be026$var$formRef","elements","searchQuery","value","trim","console","log","$1f0dc3b9307be026$var$progressBar","windowScroll","windowHeight","scrollHeight","clientHeight","width_progress_line","style","width","div","modalWindow"],"version":3,"file":"index.71203e9e.js.map"}