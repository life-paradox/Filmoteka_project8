function e(e){const t=localStorage.getItem(e);return JSON.parse(t)}function t(e,t){if(t<=1)return[1];const n=[e-2,e-1,e,e+1,e+2];return console.log(n),filteredCenter=n.filter((e=>e>1&&e<t)),includeThreeLeft=5===e,includeThreeRight=e===t-4,includeLeftDots=e>5,includeRightDots=e<t-4,includeThreeLeft&&filteredCenter.unshift(2),includeThreeRight&&filteredCenter.push(t-1),includeLeftDots&&filteredCenter.unshift("..."),includeRightDots&&filteredCenter.push("..."),[1,...filteredCenter,t]}function n(e,t){if(t<=1)return[1];return[...сenter]}const i=document.querySelector(".gallery"),r=document.querySelector(".pagination__wrapper"),a=document.querySelector(".pagination__pages"),s=document.querySelector("#next-button"),l=document.querySelector("#prev-button");let o,c;let d=[];function u(t){!function(t){if(d=e(t),null===d)d=[],_(i),p("Oops...Nothing added.")}(t),0!==d.length?(r.classList.remove("hidden"),c=Math.ceil(d.length/20),g(1),l.addEventListener("click",(()=>{g(o-1)})),s.addEventListener("click",(()=>{g(o+1)})),a.addEventListener("click",(e=>{e.target.hasAttribute("page-index")&&g(Number(e.target.getAttribute("page-index")))}))):r.classList.add("hidden")}function g(r){o=r;const a=20*(r-1),u=20*r,g=d.slice(a,u);_(i),p(g.map((({title:t,name:n,poster_path:i,genre_ids:r,release_date:a,first_air_date:s,vote_average:l,vote:o=l.toFixed(1)||" - ",year:c=a||s||" - "})=>{const d=e("genres"),u=r.map((e=>d.genres.find((t=>t.id===e))));let g;return r.length>3?(g=u.map((e=>e.name)).slice(0,2),g.push("інші")):g=u.map((e=>e.name)),`<li class="gallery__item">\n                <a class="gallery__link" href="">\n                    <img class="gallery__image" src="https://image.tmdb.org/t/p/w500${i}" alt="" loading="lazy">\n                </a>\n                <div class="gallery__info">\n                    <p class="gallery__title">${t||n}</p>\n                    <p class="gallery__genre">${g.join(", ")}</p>\n                    <p class="gallery__year">${c.slice(0,4)}</p>\n                    <p class="gallery__vote">${o}</p>\n                </div>\n            </li>`})).join("")),window.scrollTo({top:0,left:0,behavior:"smooth"}),window.innerWidth>=768?m(t(o,c)):m(n(0,c)),document.querySelectorAll(".pagination__number").forEach((e=>{e.classList.remove("active"),Number(e.getAttribute("page-index"))===o&&e.classList.add("active")})),function(){1===o?f(l):h(l);c===o?f(s):h(s)}()}function m(e){_(a);const t=e.map((e=>{if("number"==typeof e){const t=document.createElement("button");return t.className="pagination__number",t.innerHTML=e,t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),t}if("string"==typeof e){const t=document.createElement("span");return t.innerHTML=e,t}}));a.append(...t)}function p(e){i.insertAdjacentHTML("beforeend",e)}function _(e){e.innerHTML=""}function f(e){e.classList.add("hidden")}function h(e){e.classList.remove("hidden")}const L=document.querySelector("#theme-day");console.log(L);const b=document.querySelector(".button_watched"),y=document.querySelector(".button_queue");window.addEventListener("load",u("QUEUE")),b.addEventListener("click",(e=>{u(e.target.textContent),y.classList.remove("button_queue"),b.classList.add("button_queue"),b.classList.remove("button_watched"),y.classList.add("button_watched")})),y.addEventListener("click",(e=>{u(e.target.textContent),b.classList.remove("button_queue"),y.classList.add("button_queue"),y.classList.remove("button_watched"),b.classList.add("button_watched")}));
//# sourceMappingURL=library.5980f244.js.map
