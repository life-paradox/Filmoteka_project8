!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequireb466;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequireb466=i);var o=i("8nrFW"),r=i("aNvF6");var c,l,u=i("fM7Nq"),s=(r=i("aNvF6"),document.querySelector(".gallery")),d=document.querySelector(".pagination__wrapper"),g=document.querySelector(".pagination__pages"),p=document.querySelector("#next-button"),f=document.querySelector("#prev-button"),m=[];function _(e){!function(e){if(null===(m=(0,r.getFromLocalStorage)(e)))m=[],y(s),h("Oops...Nothing added.")}(e),0!==m.length?(d.classList.remove("hidden"),l=Math.ceil(m.length/2),v(1),f.addEventListener("click",(function(){v(c-1)})),p.addEventListener("click",(function(){v(c+1)})),g.addEventListener("click",(function(e){e.target.hasAttribute("page-index")&&v(Number(e.target.getAttribute("page-index")))}))):d.classList.add("hidden")}function v(e){c=e;var t=2*(e-1),n=2*e,a=m.slice(t,n);y(s),h(a.map((function(e){var t,n=e.title,a=e.name,i=e.poster_path,o=e.genre_ids,c=e.release_date,l=e.first_air_date,u=e.vote_average,s=e.vote,d=void 0===s?u.toFixed(1)||" - ":s,g=e.year,p=void 0===g?c||l||" - ":g,f=(0,r.getFromLocalStorage)("genres"),m=o.map((function(e){return f.genres.find((function(t){return t.id===e}))}));return o.length>3?(t=m.map((function(e){return e.name})).slice(0,2)).push("Other"):t=m.map((function(e){return e.name})),'<li class="gallery__item">\n                <a class="gallery__link" href="">\n                    <img class="gallery__image" src="https://image.tmdb.org/t/p/w500'.concat(i,'" alt="" loading="lazy">\n                </a>\n                <div class="gallery__info">\n                    <p class="gallery__title">').concat(n||a,'</p>\n                    <p class="gallery__genre">').concat(t.join(", "),'</p>\n                    <p class="gallery__year">').concat(p.slice(0,4),'</p>\n                    <p class="gallery__vote">').concat(d,"</p>\n                </div>\n            </li>")})).join("")),window.scrollTo({top:0,left:0,behavior:"smooth"}),b(document.documentElement.clientWidth>=768?(0,u.paginationMarkup)(c,l):(0,u.paginationMarkupMobile)(c,l)),document.querySelectorAll(".pagination__number").forEach((function(e){e.classList.remove("activePage"),Number(e.getAttribute("page-index"))===c&&e.classList.add("activePage")})),function(){1===c?L(f):w(f);l===c?L(p):w(p)}()}function b(t){var n;y(g);var a=t.map((function(e){if("number"==typeof e){var t=document.createElement("button");return t.className="pagination__number",t.innerHTML=e,t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),t}if("string"==typeof e){var n=document.createElement("span");return n.innerHTML=e,n}}));(n=g).append.apply(n,e(o)(a))}function h(e){s.insertAdjacentHTML("beforeend",e)}function y(e){e.innerHTML=""}function L(e){e.classList.add("hidden")}function w(e){e.classList.remove("hidden")}i("aNvF6"),i("lRMGX"),i("6b9QC"),i("bVASI");var q=document.querySelector(".button_watched"),S=document.querySelector(".button_queue"),E="watchedFilms",M="queuedFilms",x=function(){_(E),S.classList.remove("button_queue"),q.classList.add("button_queue"),q.classList.remove("button_watched"),S.classList.add("button_watched"),localStorage.setItem("page",E)},F=function(){_(M),q.classList.remove("button_queue"),S.classList.add("button_queue"),S.classList.remove("button_watched"),q.classList.add("button_watched"),localStorage.setItem("page",M)};window.addEventListener("load",(function(){localStorage.getItem("page")===E?x():F()})),q.addEventListener("click",x),S.addEventListener("click",F)}();
//# sourceMappingURL=library.52c66e15.js.map
