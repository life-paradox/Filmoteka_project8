const t=document.querySelector(".gallery"),e=localStorage.getItem("genres"),n=JSON.parse(e);console.log(n.genres);const a=async t=>{const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=861782ee1fc6aacf939bc06e51306075&language=uk-UA&query=${t}&page=1&include_adult=false`),n=await e.json();return console.log(n),n};function o(e){const a=e.results.map((({title:t,poster_path:e,genre_ids:a,release_date:o,first_air_date:s,year:l=o||s||" - "})=>{const c=a.map((t=>n.genres.find((e=>e.id===t))));let u;return a.length>3?(u=c.map((t=>t.name)).slice(0,2),u.push("інщі")):u=c.map((t=>t.name)),`<li class="gallery__item">\n            <a class="gallery__link" href="">\n                <img class="gallery__image" src="https://image.tmdb.org/t/p/w500${e}" alt="" loading="lazy">\n            </a>\n            <div class="gallery__info">\n                <p class="gallery__title">${t}</p>\n\n                <p class="gallery__genre">${u.join(", ")}</p>     \n                <p class="gallery__year">${l.slice(0,4)}</p>\n\n            </div>\n        </li>`})).join("");return console.log(e.results),t.innerHTML=a,e}!function(){if(!localStorage.getItem("genres")){(async()=>{const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=861782ee1fc6aacf939bc06e51306075&language=uk-UA"),e=await t.json();console.log(e),localStorage.setItem("genres",JSON.stringify(e))})()}}(),(async()=>{const t=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=861782ee1fc6aacf939bc06e51306075&language=uk-UA&page=1"),e=await t.json();return console.log(e),e})().then(o).then((function(t){const e=document.querySelector(".pagination"),n=t.total_pages,a=t.page;if(1===a){const t=`<button type="button" class="prevPage">&#10229;</button>\n    <button type="button" class="curPage">1</button>\n    <button type="button" class="nextPage">2</button>\n    <button type="button" class="nextPage+2">3</button>\n    <button type="button" class="nextPage+3">4</button>\n    <button type="button" class="nextPage+4">5</button>\n    <button type="button" class="nextPage+5">6</button>\n    <button type="button" class="nextPage+6">7</button>\n    <span>&#8728;&#8728;&#8728;</span>\n    <button type="button" class="maxPage">${n}</button>\n    <button type="button" class="nextPage">&#10230;</button>`;e.innerHTML=t}if(2===a){const t=`<button type="button" class="prevPage">&#10229;</button>\n    <button type="button" class="prevPage">1</button>\n    <button type="button" class="curPage">2</button>\n    <button type="button" class="nextPage">3</button>\n    <button type="button" class="nextPage+2">4</button>\n    <button type="button" class="nextPage+3">5</button>\n    <button type="button" class="nextPage+4">6</button>\n    <button type="button" class="nextPage+5">7</button>\n    <span>&#8728;&#8728;&#8728;</span>\n    <button type="button" class="maxPage">${n}</button>\n    <button type="button" class="nextPage">&#10230;</button>`;e.innerHTML=t}}));const s=document.querySelector(".header-search-form");s.addEventListener("submit",(function(t){t.preventDefault();const e=s.elements.searchQuery.value.trim();console.log(e),""!==e&&a(e).then(o)})),(()=>{const t=document.getElementById("slides-container"),e=document.querySelector(".slide"),n=document.getElementById("slide-arrow-prev");document.getElementById("slide-arrow-next").addEventListener("click",(()=>{const n=e.clientWidth;t.scrollLeft+=n})),n.addEventListener("click",(()=>{const n=e.clientWidth;t.scrollLeft-=n}))})();
//# sourceMappingURL=index.d80301af.js.map
